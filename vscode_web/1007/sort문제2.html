<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Document</title>
    <script>
        var v_trs;
        var v_tbody;
        var v_arrTr;

        // head 에 작성시 onload를 사용해 문서를 모두 준비하고 스크립트 실행
        window.onload = function () {
            // document.querySelector를 사용 시 첫 번째 요소만 가져옴
            v_trs = document.querySelectorAll("tr");        // nodeList -> sort는 array의 메소드
            v_tbody = document.querySelector("#id_tbody");

            v_arrTr = [];
            for (var i = 1; i < v_trs.length; i++) {  // tr 0 번째는 헤더 정보라서 제외
                v_arrTr.push(v_trs[i]);
            }
        }

        function f_sortTr(p_idx) {
            v_arrTr.sort(function (a, b) {
                console.log(a, " | ", b);
                console.log(a.children[p_idx].innerHTML);
                if (a.children[p_idx].innerHTML >= b.children[p_idx].innerHTML) {
                    return 1;
                }
                return -1;
            });

            // 정렬 내용 반영
            // appendChild : 이미 있는 정보일 경우 위치만바꿈
            for (var i = 0; i < v_arrTr.length; i++) {
                // console.log(v_arrTr[i]);
                v_tbody.appendChild(v_arrTr[i]);
            }
        }
    </script>
</head>

<body>
    <table border="1">
        <tbody id="id_tbody">
            <tr>
                <th>
                    <!-- 문자열에 이벤트 넣기 -->
                    <a href="javascript:f_sortTr(0)">제목</a>
                </th>
                <th>
                    <a href="javascript:f_sortTr(1)">글쓴이</a>
                </th>
                <th>
                    <a href="javascript:f_sortTr(2)">내용</a>
                </th>
                <th>
                    <a href="javascript:f_sortTr(3)">날짜</a>
                </th>
            </tr>
            <tr>
                <td>달러구트 꿈 백화점</td>
                <td>이미예</td>
                <td>주문하신 상품은 매진입니다</td>
                <td>2020-07-09</td>
            </tr>
            <tr>
                <td>주린이가 알고싶은 최다질문 77</td>
                <td>염승환</td>
                <td>염블리와 함께라면 주식이 쉽고 재미있다</td>
                <td>2021-07-26</td>
            </tr>
            <tr>
                <td>미드나잇 라이브러리</td>
                <td>매트 헤이그</td>
                <td>1주년 스페셜 에디션</td>
                <td>2021-04-28</td>
            </tr>
            <tr>
                <td>공정하다는 착각</td>
                <td>마이클 샌델</td>
                <td>능력주의는 모두에게 같은 기회를 제공하는가</td>
                <td>2020-12-01</td>
            </tr>
        </tbody>
    </table>

    <!--  <script>
        var v_trs = document.querySelectorAll("tr");
        var v_tbody = document.querySelector("#id_tbody");
        var v_arrTr = [];
        for (var i = 1; i < v_trs.length; i++) {  // tr 0 번째는 헤더 정보라서 제외
            v_arrTr.push(v_trs[i]);
        }

        function f_sortTr(p_idx) {
            v_arrTr.sort(function (a, b) {
                console.log(a, " | ", b);
                console.log(a.children[p_idx].innerHTML);
                if(a.children[p_idx].innerHTML >= b.children[p_idx].innerHTML){
                    return 1;
                }
                return -1;
            });

            // 정렬 내용 반영
            // appendChild : 이미 있는 정보일 경우 위치만바꿈
            for(var i = 0; i< v_arrTr.length; i++){
                // console.log(v_arrTr[i]);
                v_tbody.appendChild(v_arrTr[i]);
            }
        }
    </script> -->
</body>

</html>